<?xml version="1.0" encoding="UTF-8" ?>
    <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
    <html xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://java.sun.com/jsf/html" xmlns:f="http://java.sun.com/jsf/core" xmlns:p="http://xmlns.jcp.org/jsf/passthrough" xmlns:c="http://java.sun.com/jsp/jstl/core" xmlns:ui="http://java.sun.com/jsf/facelets">

    <h:head>
        <!--<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /> -->
        <title>UVS Client - JSF</title>
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css" />
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap-theme.min.css" />
        <link rel="stylesheet" href="resources/css/site.css" />
    </h:head>

    <body>
        <nav class="navbar navbar-inverse">
            <div class="container-fluid">
                <div class="navbar-header">
                    <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
                        <span class="sr-only">Toggle navigation</span><span class="icon-bar"></span>
                        <span class="icon-bar"></span> <span class="icon-bar"></span>
                    </button>
                    <a class="navbar-brand text-center" href="#" onclick="window.location.reload(true);"><span class="glyphicon glyphicon-home"></span> <br />Home </a>
                </div>
                <!-- Collect the nav links, forms, and other content for toggling -->
                <h:form>
                    <div class="collapse navbar-collapse">
                        <ul class="nav navbar-nav">
                            <li class="dropdown">
                                <a href="#" class="dropdown-toggle text-center" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">
                                    <span class="glyphicon glyphicon-home"></span><span class="caret"></span>
                                    <br /> <span id="VehicleType">Vehicle Type</span>
                                </a>
                                <h:selectOneMenu id="result" value="#{vehicleBean.searchVehicleBean.searchVehicleType}">
                                    <f:selectItem itemValue="CAR" itemLabel="CAR"></f:selectItem>
                                    <f:selectItem itemValue="VAN" itemLabel="VAN"></f:selectItem>
                                    <f:selectItem itemValue="TRUCK" itemLabel="Truck"></f:selectItem>
                                    <f:ajax event="change" update="@this" render="result" />
                                </h:selectOneMenu>
                            </li>
                            <li>
                                <a href="" class="dropdown-toggle text-center" role="button" aria-haspopup="true" aria-expanded="false" onclick='window.open("./addCarJSF.xhtml", "", "left=20%,top=20%,width=1025,height=500,toolbar=1,resizable=0")'>
                                    <span class="glyphicon glyphicon-plus"></span>
                                    <br/>Add car
                                </a>
                            </li>
                            <li><a class="dropdown-toggle text-center text-left-xs" href="#"><span class="glyphicon glyphicon-road"></span> <br />Link2
					</a></li>
                            <li><a class="dropdown-toggle text-center text-left-xs" href="#"><span class="glyphicon glyphicon-road"></span> <br />Link3
					</a></li>
                        </ul>
                        <!-- Search the site -->
                        <ul class="nav navbar-nav navbar-right">
                            <li class="dropdown">
                                <a href="#" class="dropdown-toggle text-center" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">
                                    <span class="glyphicon glyphicon-home"></span><span class="caret"></span>
                                    <br /> <span id="CountryLanguage">Country/Location</span>
                                </a>
                                <h:selectOneMenu id="country" value="#{vehicleBean.searchVehicleBean.searchLocation}">
                                    <f:selectItem itemValue="Germany" itemLabel="Germany"></f:selectItem>
                                    <f:selectItem itemValue="Romania" itemLabel="Romania"></f:selectItem>
                                    <f:selectItem itemValue="UK" itemLabel="UK"></f:selectItem>
                                    <f:ajax event="change" update="@this" render="country" />
                                </h:selectOneMenu>
                            </li>
                            <li>
                                
                                    
                                    <h:commandLink value="" action="#{userBean.logout()}" >
                                        <div class="dropdown-toggle text-center" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false"><span class="glyphicon glyphicon-log-out"></span>
                                        <br/><span id="Logout">Logout</span> </div>
                                    </h:commandLink>
                                    
                                
                                <!--<a href="#" class="dropdown-toggle text-center" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">
                                    <span class="glyphicon glyphicon-log-out"></span><span class="caret"></span>
                                    <br /> <span id="Logout">Logout</span>
                                </a> -->
                            </li>
                        </ul>
                    </div>
                    <!-- /.navbar-collapse -->
                </h:form>
            </div>
            <!-- /.container-fluid -->
        </nav>

        <div>

        </div>
        <!-- /.navbar-collapse -->
        <!-- /.container-fluid -->
        <div class="col-sm-4">
        <!-- <div>
                <h:form>
                    <h:commandButton value="Logout" action="#{userBean.logout()}" />
                </h:form>
                <h:form>
                    <h:commandLink value="Logout" action="#{userBean.logout()}" styleClass="text-center" />

                </h:form>

            </div> -->
            <h3>Search</h3>
            <div class="well">
                <h:form styleClass="form-horizontal">
                    <div class="form-group">
                        <label class="col-sm-3 control-label">FIN</label>
                        <div class="col-sm-9">
                            <h:inputText value="#{vehicleBean.searchVehicleBean.searchFin}" styleClass="form-control" />
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="col-sm-3 control-label">Model</label>
                        <div class="col-sm-9">
                            <h:selectOneMenu styleClass="form-control" value="#{vehicleBean.searchVehicleBean.searchModel}">
                                <f:selectItem itemValue=" " itemLabel=" " />
                                <f:selectItem itemValue="Volskwagen Passat" itemLabel="Volskwagen Passat" />
                                <f:selectItem itemValue="Mercedes Sprinter" itemLabel="Mercedes Sprinter" />
                                <f:selectItem itemValue="Dacia Logan" itemLabel="Dacia Logan" />
                                <f:selectItem itemValue="Volvo Truck" itemLabel="Volvo Truck" />
                                <f:selectItem itemValue="Volskwagen Transporter" itemLabel="Volskwagen Transporter" />
                                <f:selectItem itemValue="Mercedes Truck" itemLabel="Mercedes Truck" />
                            </h:selectOneMenu>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="col-sm-3 control-label">Fuel Type </label>
                        <div class="col-sm-9">
                            <h:selectOneMenu styleClass="form-control" value="#{vehicleBean.searchVehicleBean.searchFuelType}">
                                <f:selectItem itemValue=" " itemLabel=" " />
                                <f:selectItem itemValue="Diesel" itemLabel="Diesel" />
                                <f:selectItem itemValue="Gasoline" itemLabel="Gasoline" />
                            </h:selectOneMenu>
                        </div>
                    </div>
                    <div class="form-group form-inline">
                        <label class="col-sm-3 control-label">Capacity</label>
                        <div class="col-sm-9">
                            <h:inputText value="#{vehicleBean.searchVehicleBean.searchMinCapacity}" styleClass="form-control" size="4" p:placeholder="min" /> cm
                            <sup>3</sup> -
                            <h:inputText value="#{vehicleBean.searchVehicleBean.searchMaxCapacity}" styleClass="form-control" size="4" p:placeholder="max" /> cm
                            <sup>3</sup>
                        </div>
                    </div>
                    <div class="form-group form-inline">
                        <label class="col-sm-3 control-label">Year</label>
                        <div class="col-sm-9">
                            <h:inputText value="#{vehicleBean.searchVehicleBean.searchMinYear}" styleClass="form-control" size="4" p:placeholder="min" /> -
                            <h:inputText value="#{vehicleBean.searchVehicleBean.searchMaxYear}" styleClass="form-control" size="4" p:placeholder="max" />
                        </div>
                    </div>
                    <div class="form-group form-inline">
                        <label class="col-sm-3 control-label">Price</label>
                        <div class="col-sm-9">
                            <h:inputText value="#{vehicleBean.searchVehicleBean.searchMinPrice}" styleClass="form-control" size="4" p:placeholder="min" /> -
                            <h:inputText value="#{vehicleBean.searchVehicleBean.searchMaxPrice}" styleClass="form-control" size="4" p:placeholder="max" />
                        </div>
                    </div>
                    <h:commandButton value="Search" styleClass="btn btn-primary" action="#{vehicleBean.searchVechicle()}" ajax="false" />
                </h:form>
            </div>
            <h3>Search history</h3>
            <div class="well">
                <h:dataTable value="#{vehicleBean.searchHistory}" var="history" class="table table-striped">
                    <h:column>
                        <f:facet name="header">FIN</f:facet>
                        <h:outputText value="#{history.fin}" />
                    </h:column>
                    <h:column>
                        <f:facet name="header">Model</f:facet>
                        <h:outputText value="#{history.model}" />
                    </h:column>
                    <h:column>
                        <f:facet name="header">Location</f:facet>
                        <h:outputText value="#{history.location}" />
                    </h:column>
                </h:dataTable>
            </div>
        </div>
        <div class="col-sm-8 table-responsive">
            <h3>Search Results</h3>
            <h:form>
                <h:dataTable value="#{vehicleBean.searchedVehicles}" var="vehicle" styleClass="table table-striped">
                    <h:column>
                        <f:facet name="header">FIN</f:facet>
                        <h:outputText value="#{vehicle.fin}" />
                    </h:column>
                    <h:column>
                        <f:facet name="header">Model</f:facet>
                        <h:outputText value="#{vehicle.model}" />
                    </h:column>
                    <h:column>
                        <f:facet name="header">Fuel type</f:facet>
                        <h:outputText value="#{vehicle.fuelType}" />
                    </h:column>
                    <h:column>
                        <f:facet name="header">Engine capacity</f:facet>
                        <h:outputText value="#{vehicle.engineCapacity}" />
                    </h:column>
                    <h:column>
                        <f:facet name="header">Year</f:facet>
                        <h:outputText value="#{vehicle.year}" />
                    </h:column>
                    <h:column>
                        <f:facet name="header">Location</f:facet>
                        <h:outputText value="#{vehicle.location}" />
                    </h:column>
                    <h:column>
                        <f:facet name="header">Price</f:facet>
                        <h:outputText value="#{vehicle.price}" />
                    </h:column>

                    <h:column>
                        <f:facet name="header">Info</f:facet>
                        <h:commandButton value="Info" action="#{vehicleBean.searchForEnhancedVehicle(vehicle)}" />
                    </h:column>

                </h:dataTable>

            </h:form>
        </div>
        <div></div>
        <script src="http://code.jquery.com/jquery-1.11.3.min.js"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>

        <script type="text/javascript" src="resources/js/app.js"></script>
    </body>

    </html>